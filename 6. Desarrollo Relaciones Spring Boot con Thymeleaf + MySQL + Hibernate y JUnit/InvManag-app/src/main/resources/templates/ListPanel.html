<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="index::head" />
<body>
<style>
    @import url('https://fonts.cdnfonts.com/css/road-rage');
    h4{
        font-family: 'Road Rage', sans-serif;
    }
</style>
<nav th:replace="index::navBar"/>
<div class="container-fluid justify-content-center">
    <div class="row">
        <div th:if="${catL!=null}" class="col">
            <h4 class="text-center">CATEGORY LIST</h4>
            <div class="p-3 text-center">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>NAME</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="cat: ${catL}">
                            <td th:text="${cat.id}"></td>
                            <td th:text="${cat.name}"></td>
                            <td>
                                <a th:href="@{/categories/upd/{idC} (idC = ${cat.id})}" class="btn btn-outline-warning">
                                    <i class="bi bi-pencil-square"></i>
                                </a>
                                <a th:href="@{/categories/del/{idC} (idC = ${cat.id})}" class="btn btn-outline-danger">
                                    <i class="bi bi-xbox"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div th:if="${prodL!=null}" class="col">
            <h4 class="text-center">PRODUCT LIST</h4>
            <div class="p-3 text-center">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>NAME</th>
                            <th>PRICE</th>
                            <th>CATEGORY</th>
                            <th>DETAILS</th>
                            <th>ACTION</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="prod : ${prodL}">
                            <td th:text="${prod.id}"></td>
                            <td th:text="${prod.name}"></td>
                            <td th:text="${prod.price}"></td>
                            <td th:text="${prod.category.name}"></td>
                            <td>
                                <div class="row">
                                    <div class="col" th:each="det:${prod.details}">
                                        <p th:text="'■'+${det.name}+': '+${det.value}"></p>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <a th:href="@{/products/upd/{idP} (idP = ${prod.id})}" class="btn btn-outline-warning">
                                    <i class="bi bi-pencil-square"></i>
                                </a>
                                <a th:href="@{/products/del/{idP} (idP = ${prod.id})}" class="btn btn-outline-danger">
                                    <i class="bi bi-xbox"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div th:if="${brandL!=null}" class="col">
            <h4 class="text-center">BRAND LIST</h4>
            <div class="p-3 text-center">
                <table class="table table-borderless">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>NAME</th>
                        <th>CATEGORIES</th>
                        <th>ACTION</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr th:each="brand : ${brandL}">
                            <td th:text="${brand.id}"></td>
                            <td th:text="${brand.name}"></td>
                            <td>
                                <span th:each="brandCN:${brand.category}" th:text="${brandCN.name} + '-'"></span>
                            </td>
                            <td>
                                <a th:href="@{/brands/upd/{idB} (idB = ${brand.id})}" class="btn btn-outline-warning">
                                    <i class="bi bi-pencil-square"></i>
                                </a>
                                <a th:href="@{/brands/del/{idB} (idB = ${brand.id})}" class="btn btn-outline-danger">
                                    <i class="bi bi-xbox"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div th:if="${userL!=null}" class="col">
            <h4 class="text-center">USER LIST</h4>
            <div class="p-3 text-center">
                <table class="table table-borderless">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>EMAIL</th>
                        <th>PASSWORD</th>
                        <th>ROLES</th>
                        <th>ACTIONS</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr th:each="user : ${userL}">
                            <td th:text="${user.id}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.password}"></td>
                            <td>
                                <div class="row">
                                    <div class="col" th:each="role:${user.roles}">
                                        <p th:text="'■'+${role.name}"></p>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <a th:href="@{/users/upd/{idU} (idU = ${user.id})}" class="btn btn-outline-warning">
                                    <i class="bi bi-pencil-square"></i>
                                </a>
                                <a th:href="@{/users/del/{idU} (idU = ${user.id})}" class="btn btn-outline-danger">
                                    <i class="bi bi-xbox"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>